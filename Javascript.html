<script>


function chooseCity(values){

  for(var i = 0; i < values.length; i++) {
    var opt = values[i];
    var el = $("<option/>").append(opt).val(opt);
    $("#city").append(el);
  }
}

google.script.run.withSuccessHandler(chooseCity)
.getCities();


function chooseMikveh(mikvaot){

  $('#address').empty();

  var thisCityMikvaot = mikvaot[$("#city option:selected").text()];  

  if (thisCityMikvaot == null) { 
    var el1 = $("<option/>").append("Choose a mikveh").val("default");  
    $('#address').append(el1)
  } else {
  for(var i = 0; i < thisCityMikvaot.length; i++) {
    var opt = thisCityMikvaot[i];
    var optClass = $("#city option:selected").text();
    var el = $("<option/>").append(opt).val(opt).addClass(optClass);    
    $('#address').append(el);
  } }
}



// Example starter JavaScript for disabling form submissions if there are invalid fields
//(function() {
//  'use strict';
//  window.addEventListener('load', function() {
//    // Fetch all the forms we want to apply custom Bootstrap validation styles to
//    var forms = document.getElementsByClassName('needs-validation');
//    // Loop over them and prevent submission
//    var validation = Array.prototype.filter.call(forms, function(form) {
//      form.addEventListener('submit', function(event) {
//        if (form.checkValidity() === false) {
//          event.preventDefault();
//          event.stopPropagation();
//        }
//        form.classList.add('was-validated');
//      }, false);
//    });
//  }, false);



  


</script>

